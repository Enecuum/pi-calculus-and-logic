
(v монеткаПодделка5)

| инициализироватьМонеты()
  . (v монетка1)
    (v монетка2)
    (v монетка5)
    (v монетка10)
    ( ()

      | ! проверитьМонетку(монетка)
          . (v тестовыйКанал)
            (v принятьТест)
            (   ! монетка1  (канал) . канал<> . принятьТест()
              | ! монетка2  (канал) . канал<> . принятьТест()
              | ! монетка5  (канал) . канал<> . принятьТест()
              | ! монетка10 (канал) . канал<> . принятьТест()
              | принятьТест<>
              | тестовыйКанал()
              | монетка<тестовыйКанал>
            )

      | ! серверОценки(сокет)
          . сокет(монетка)
          . (v оценочныйКанал)
            (v принятьОценку)
            (   ! монетка1  (канал) . канал<> . ( ! сокет<1>  ) . принятьОценку()
              | ! монетка2  (канал) . канал<> . ( ! сокет<2>  ) . принятьОценку()
              | ! монетка5  (канал) . канал<> . ( ! сокет<5>  ) . принятьОценку()
              | ! монетка10 (канал) . канал<> . ( ! сокет<10> ) . принятьОценку()
              | оценочныйКанал()
              | принятьОценку<>
              | монетка<оценочныйКанал>
            )


слот (монетка)
 . проверитьМонетку<монетка>
 . (v сокетА)
   серверОценки<сокетА>
   . сокетА<монетка>
   . сокетА(стоимость)

